runtime: go
api_version: go1.9

handlers:
- url: /api/.*
  script: _go_app

- url: /(.*\.(html|css|js))
  static_files: build/\1
  upload: build/(.*\.(html|css|js))

- url: /.*
  static_files: build/index.html
  upload: build/index.html

skip_files:
- ^src/(.*/)?
- ^node_modules/(.*/)?


instance_class: F1
automatic_scaling:
  min_idle_instances: automatic
  max_idle_instances: 1
  min_pending_latency: 3000ms
  max_pending_latency: automatic
  max_concurrent_requests: 80

includes:
- secret.yaml
